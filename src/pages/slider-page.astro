---
import Layout from "../layouts/Layout.astro";
import GraphicSpecies from "../components/GraphicSpecies.astro";

const tabs = ["Adelie", "Gentoo", "Chinstrap"];
---

<Layout>
  <main class="max-w-5xl mx-auto px-4 py-8">
    <div class="bg-blue-600 text-white p-6 mb-8 rounded">
      <h1 class="text-2xl font-bold text-center mb-2">Toutes les espèces avec Select + Scroll</h1>
      <p class="text-center text-blue-100">Navigation rapide entre les espèces</p>
    </div>

    <nav class="mb-8 text-center">
      <select id="species" class="border rounded p-1 text-sm md:text-base">
        {tabs.map((tab, i) => (
          <option value={tab} selected={i === 0}>{tab}</option>
        ))}
      </select>
    </nav>

    <div id="species-container" class="flex gap-6 overflow-x-auto snap-x snap-mandatory">
      {tabs.map((tab) => (
        <div class="min-w-full snap-center">
          <GraphicSpecies species={tab} />
        </div>
      ))}
    </div>

    <script>
      const selectMenu = document.querySelector("#species");
      const container = document.querySelector("#species-container");
      const items = container.querySelectorAll("div.min-w-full");

      selectMenu.addEventListener("change", (evt) => {
        const index = {Adelie:0, Gentoo:1, Chinstrap:2}[evt.target.value];
        items[index].scrollIntoView({behavior:"smooth"});
      });
    </script>
  </main>
</Layout>
