---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <main class="max-w-5xl mx-auto px-4 py-8">
    <div class="bg-blue-600 text-white p-6 mb-8 rounded">
      <h1 class="text-2xl font-bold text-center mb-2">Test avec Iframe</h1>
      <p class="text-center text-blue-100">Navigation interne sans rechargement</p>
    </div>

    <nav class="mb-8 text-center">
      <select id="species-frame" class="border rounded p-1 text-sm md:text-base">
        <option value="Adelie">Adelie</option>
        <option value="Gentoo">Gentoo</option>
        <option value="Chinstrap">Chinstrap</option>
      </select>
    </nav>

    <div class="bg-white border rounded p-2">
      <iframe
        name="species-frame"
        src="/species/Adelie"
        width="100%"
        height="600"
        class="w-full border border-gray-300 rounded"
      ></iframe>
    </div>

    <script>
      const iframe = document.querySelector("iframe[name='species-frame']");
      document.querySelector("#species-frame")?.addEventListener("change", (evt) => {
        iframe.src = "/species/" + evt.target.value;
      });
    </script>
  </main>
</Layout>
