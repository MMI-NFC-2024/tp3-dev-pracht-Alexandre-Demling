---
import PlotFigure from "../components/PlotFigure.astro";
import Layout from "../layouts/Layout.astro";
import { Tabs, TabList, Tab, TabPanel } from "https://accessible-astro.incluud.dev/components/tabs/";
import penguins from "../assets/penguins.json";

const penguinsAdelie = penguins.filter(p => p.species === "Adelie");
const penguinsGentoo = penguins.filter(p => p.species === "Gentoo");
const penguinsChinstrap = penguins.filter(p => p.species === "Chinstrap");
---

<Layout>
  <main class="max-w-5xl mx-auto px-4 py-8">
    <div class="bg-blue-600 text-white p-6 mb-8 rounded">
      <h1 class="text-2xl font-bold text-center mb-2">Toutes les espèces avec Tabs</h1>
      <p class="text-center text-blue-100">Navigation rapide entre les espèces</p>
    </div>

    <Tabs selected={0}>
      <TabList class="flex justify-center gap-4 mb-4">
        <Tab>Adelie</Tab>
        <Tab>Gentoo</Tab>
        <Tab>Chinstrap</Tab>
      </TabList>

      <TabPanel>
        <PlotFigure
          options={{
            marks: [Plot.dot(penguinsAdelie, { x: "culmen_length_mm", y: "culmen_depth_mm", stroke: "species", fill: "species", fillOpacity: 0.7, r: 3 })],
            marginLeft: 50,
            marginBottom: 50,
            grid: true
          }}
        />
      </TabPanel>

      <TabPanel>
        <PlotFigure
          options={{
            marks: [Plot.dot(penguinsGentoo, { x: "culmen_length_mm", y: "culmen_depth_mm", stroke: "species", fill: "species", fillOpacity: 0.7, r: 3 })],
            marginLeft: 50,
            marginBottom: 50,
            grid: true
          }}
        />
      </TabPanel>

      <TabPanel>
        <PlotFigure
          options={{
            marks: [Plot.dot(penguinsChinstrap, { x: "culmen_length_mm", y: "culmen_depth_mm", stroke: "species", fill: "species", fillOpacity: 0.7, r: 3 })],
            marginLeft: 50,
            marginBottom: 50,
            grid: true
          }}
        />
      </TabPanel>
    </Tabs>
  </main>
</Layout>
